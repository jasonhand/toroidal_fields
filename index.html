<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sound-Light Interference: The Genesis of Matter</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #000000, #0d1421, #1a0d2e);
            color: white;
            min-height: 100vh;
            overflow-x: hidden;
        }
        
        .header {
            text-align: center;
            padding: 20px;
            background: rgba(255,255,255,0.05);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }
        
        .header h1 {
            font-size: 24px;
            background: linear-gradient(45deg, #64ffda, #bb86fc, #ff6b6b);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 8px;
        }
        
        .header p {
            font-size: 14px;
            color: #b0b0b0;
            max-width: 800px;
            margin: 0 auto;
        }
        
        .container {
            display: grid;
            grid-template-columns: 1fr 380px;
            height: calc(100vh - 100px);
        }
        
        .visualization-area {
            display: grid;
            grid-template-rows: 1fr 1fr;
            gap: 20px;
            padding: 20px;
        }
        
        .canvas-container {
            position: relative;
            background: radial-gradient(circle at center, rgba(255,255,255,0.03), transparent);
            border-radius: 15px;
            border: 1px solid rgba(255,255,255,0.1);
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }
        
        .canvas-title {
            padding: 15px;
            background: rgba(255,255,255,0.08);
            font-size: 14px;
            font-weight: bold;
            text-align: center;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }
        
        canvas {
            flex: 1;
            display: block;
        }
        
        .controls {
            background: rgba(255,255,255,0.08);
            backdrop-filter: blur(20px);
            border-left: 1px solid rgba(255,255,255,0.15);
            padding: 25px;
            overflow-y: auto;
        }
        
        .control-group {
            margin-bottom: 25px;
            padding: 18px;
            background: rgba(255,255,255,0.06);
            border-radius: 12px;
            border: 1px solid rgba(255,255,255,0.1);
        }
        
        .control-group h3 {
            margin-bottom: 15px;
            color: #64ffda;
            font-size: 15px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .slider-container {
            margin-bottom: 18px;
        }
        
        .slider-container label {
            display: block;
            margin-bottom: 8px;
            font-size: 13px;
            color: #b0b0b0;
        }
        
        .slider {
            width: 100%;
            height: 6px;
            border-radius: 3px;
            background: rgba(255,255,255,0.2);
            outline: none;
            -webkit-appearance: none;
        }
        
        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            background: linear-gradient(45deg, #64ffda, #00bcd4);
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(100, 255, 218, 0.4);
        }
        
        .value-display {
            display: inline-block;
            background: rgba(100, 255, 218, 0.2);
            padding: 3px 7px;
            border-radius: 4px;
            font-size: 11px;
            margin-left: 8px;
            color: #64ffda;
        }
        
        .theory-panel {
            background: linear-gradient(135deg, rgba(187, 134, 252, 0.1), rgba(100, 255, 218, 0.1));
            padding: 15px;
            border-radius: 10px;
            border-left: 4px solid #bb86fc;
            margin-bottom: 20px;
            font-size: 12px;
            line-height: 1.5;
        }
        
        .theory-panel h4 {
            color: #bb86fc;
            margin-bottom: 8px;
            font-size: 13px;
        }
        
        .frequency-readout {
            background: linear-gradient(135deg, rgba(255, 107, 107, 0.1), rgba(100, 255, 218, 0.1));
            padding: 12px;
            border-radius: 8px;
            text-align: center;
            margin-bottom: 15px;
        }
        
        .hz-display {
            font-size: 20px;
            font-weight: bold;
            color: #ff6b6b;
        }
        
        .wavelength-display {
            font-size: 11px;
            color: #b0b0b0;
            margin-top: 3px;
        }
        
        .pattern-indicator {
            display: flex;
            justify-content: space-between;
            margin-top: 10px;
            font-size: 10px;
        }
        
        .coherence-meter {
            width: 100%;
            height: 20px;
            background: rgba(255,255,255,0.1);
            border-radius: 10px;
            overflow: hidden;
            margin: 10px 0;
        }
        
        .coherence-bar {
            height: 100%;
            background: linear-gradient(45deg, #ff6b6b, #64ffda);
            transition: width 0.3s ease;
            border-radius: 10px;
        }
        
        .preset-buttons {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 8px;
            margin-top: 15px;
        }
        
        .preset-btn {
            padding: 8px 12px;
            background: rgba(255,255,255,0.1);
            border: 1px solid rgba(255,255,255,0.2);
            border-radius: 6px;
            color: white;
            cursor: pointer;
            font-size: 11px;
            transition: all 0.3s ease;
        }
        
        .preset-btn:hover {
            background: rgba(100, 255, 218, 0.2);
            border-color: #64ffda;
        }
    </style>
    <script>
  (function(h,o,u,n,d) {
    h=h[d]=h[d]||{q:[],onReady:function(c){h.q.push(c)}}
    d=o.createElement(u);d.async=1;d.src=n
    n=o.getElementsByTagName(u)[0];n.parentNode.insertBefore(d,n)
  })(window,document,'script','https://www.datadoghq-browser-agent.com/us1/v6/datadog-rum.js','DD_RUM')
  window.DD_RUM.onReady(function() {
    window.DD_RUM.init({
      clientToken: 'pub8e419a6328868e416b6a6aa94983d964',
      applicationId: '35d8c081-5d80-4cc7-8e2f-cb68803c1e9b',
      // `site` refers to the Datadog site parameter of your organization
      // see https://docs.datadoghq.com/getting_started/site/
      site: 'datadoghq.com',
      service: 'toroidal-fields',
      env: 'prod',
      // Specify a version number to identify the deployed version of your application in Datadog
      // version: '1.0.0',
      sessionSampleRate: 100,
      sessionReplaySampleRate: 100,
      defaultPrivacyLevel: 'mask-user-input',
    });
  })
</script>
</head>
<body>
    <div class="header">
        <h1>Sound-Light Interference: The Genesis of Matter</h1>
        <p>Witness how invisible sound frequencies create visible interference patterns with light waves, revealing the fundamental geometric structures that organize energy into matter through cymatics and wave interference.</p>
    </div>
    
    <div class="container">
        <div class="visualization-area">
            <div class="canvas-container">
                <div class="canvas-title">Cymatic Interference Patterns - Where Sound Becomes Visible</div>
                <canvas id="interferenceCanvas" width="600" height="300"></canvas>
            </div>
            
            <div class="canvas-container">
                <div class="canvas-title">Standing Wave Formation - The Architecture of Matter</div>
                <canvas id="standingWaveCanvas" width="600" height="300"></canvas>
            </div>
        </div>
        
        <div class="controls">
            <div class="theory-panel">
                <h4>The Fundamental Principle</h4>
                <p>When sound waves interact with light, they create interference patterns that reveal the underlying geometric structures of reality. These patterns are identical to those found in atomic orbitals, crystal formations, and cellular structures - demonstrating that matter emerges from organized wave interference.</p>
            </div>
            
            <div class="frequency-readout">
                <div class="hz-display" id="freqDisplay">432 Hz</div>
                <div class="wavelength-display" id="wavelengthDisplay">λ = 79.5 cm (sound) | 694 THz (light resonance)</div>
                <div class="pattern-indicator">
                    <span>Chaos</span>
                    <span>Harmony</span>
                    <span>Crystallization</span>
                </div>
                <div class="coherence-meter">
                    <div class="coherence-bar" id="coherenceBar"></div>
                </div>
            </div>
            
            <div class="control-group">
                <h3>Primary Frequency</h3>
                
                <div class="slider-container">
                    <label for="baseFreq">Base Frequency (Hz) <span class="value-display" id="baseFreqValue">432</span></label>
                    <input type="range" id="baseFreq" class="slider" min="50" max="1000" value="432">
                </div>
                
                <div class="preset-buttons">
                    <button class="preset-btn" onclick="setPreset(174)">174 Hz</button>
                    <button class="preset-btn" onclick="setPreset(285)">285 Hz</button>
                    <button class="preset-btn" onclick="setPreset(396)">396 Hz</button>
                    <button class="preset-btn" onclick="setPreset(432)">432 Hz</button>
                    <button class="preset-btn" onclick="setPreset(528)">528 Hz</button>
                    <button class="preset-btn" onclick="setPreset(741)">741 Hz</button>
                </div>
            </div>
            
            <div class="control-group">
                <h3>Wave Interaction</h3>
                
                <div class="slider-container">
                    <label for="harmonic">Harmonic Ratio <span class="value-display" id="harmonicValue">1.618</span></label>
                    <input type="range" id="harmonic" class="slider" min="1" max="3" step="0.001" value="1.618">
                </div>
                
                <div class="slider-container">
                    <label for="amplitude">Sound Amplitude <span class="value-display" id="amplitudeValue">0.8</span></label>
                    <input type="range" id="amplitude" class="slider" min="0.1" max="2" step="0.1" value="0.8">
                </div>
                
                <div class="slider-container">
                    <label for="lightFreq">Light Interaction <span class="value-display" id="lightFreqValue">0.5</span></label>
                    <input type="range" id="lightFreq" class="slider" min="0.1" max="1" step="0.1" value="0.5">
                </div>
            </div>
            
            <div class="control-group">
                <h3>Pattern Emergence</h3>
                
                <div class="slider-container">
                    <label for="nodeCount">Node Density <span class="value-display" id="nodeValue">8</span></label>
                    <input type="range" id="nodeCount" class="slider" min="3" max="16" value="8">
                </div>
                
                <div class="slider-container">
                    <label for="coherence">Coherence Level <span class="value-display" id="coherenceValue">0.7</span></label>
                    <input type="range" id="coherence" class="slider" min="0" max="1" step="0.1" value="0.7">
                </div>
            </div>
            
            <div class="theory-panel">
                <h4>Energy → Matter Transition</h4>
                <p>At specific frequency ratios (like the golden ratio φ = 1.618), sound waves create stable interference patterns. These geometric forms act as templates that organize energy into matter, explaining why the same patterns appear in atoms, crystals, and living cells.</p>
            </div>
        </div>
    </div>

    <script>
        // Canvas elements
        const interferenceCanvas = document.getElementById('interferenceCanvas');
        const standingWaveCanvas = document.getElementById('standingWaveCanvas');
        const iCtx = interferenceCanvas.getContext('2d');
        const sCtx = standingWaveCanvas.getContext('2d');
        
        // Control elements
        const baseFreqSlider = document.getElementById('baseFreq');
        const harmonicSlider = document.getElementById('harmonic');
        const amplitudeSlider = document.getElementById('amplitude');
        const lightFreqSlider = document.getElementById('lightFreq');
        const nodeCountSlider = document.getElementById('nodeCount');
        const coherenceSlider = document.getElementById('coherence');
        
        // Display elements
        const freqDisplay = document.getElementById('freqDisplay');
        const wavelengthDisplay = document.getElementById('wavelengthDisplay');
        const coherenceBar = document.getElementById('coherenceBar');
        const baseFreqValue = document.getElementById('baseFreqValue');
        const harmonicValue = document.getElementById('harmonicValue');
        const amplitudeValue = document.getElementById('amplitudeValue');
        const lightFreqValue = document.getElementById('lightFreqValue');
        const nodeValue = document.getElementById('nodeValue');
        const coherenceValue = document.getElementById('coherenceValue');
        
        let time = 0;
        let animationId;
        
        // Wave parameters
        let params = {
            baseFreq: 432,
            harmonic: 1.618,
            amplitude: 0.8,
            lightInteraction: 0.5,
            nodeCount: 8,
            coherence: 0.7
        };
        
        function setPreset(frequency) {
            baseFreqSlider.value = frequency;
            params.baseFreq = frequency;
            updateDisplays();
        }
        
        function updateDisplays() {
            const freq = parseFloat(baseFreqSlider.value);
            const soundWavelength = 343 / freq; // Speed of sound / frequency
            const lightResonance = freq * 1.6e9; // Conceptual light frequency resonance
            
            freqDisplay.textContent = `${freq} Hz`;
            wavelengthDisplay.textContent = `λ = ${soundWavelength.toFixed(1)} cm (sound) | ${(lightResonance/1e12).toFixed(0)} THz (light resonance)`;
            
            // Calculate coherence based on harmonic ratio proximity to golden ratio
            const goldenRatio = 1.618033988749;
            const harmonicRatio = parseFloat(harmonicSlider.value);
            const coherenceLevel = 1 - Math.abs(harmonicRatio - goldenRatio) / 2;
            const displayCoherence = Math.max(0, Math.min(1, coherenceLevel * params.coherence));
            
            coherenceBar.style.width = `${displayCoherence * 100}%`;
            
            // Update value displays
            baseFreqValue.textContent = freq;
            harmonicValue.textContent = harmonicRatio.toFixed(3);
            amplitudeValue.textContent = parseFloat(amplitudeSlider.value).toFixed(1);
            lightFreqValue.textContent = parseFloat(lightFreqSlider.value).toFixed(1);
            nodeValue.textContent = nodeCountSlider.value;
            coherenceValue.textContent = parseFloat(coherenceSlider.value).toFixed(1);
        }
        
        function calculateInterference(x, y, centerX, centerY, time) {
            const distance = Math.sqrt((x - centerX) ** 2 + (y - centerY) ** 2);
            
            // Primary sound wave
            const primaryWave = Math.sin(params.baseFreq * 0.01 * time - distance * 0.02) * params.amplitude;
            
            // Harmonic wave (creates interference)
            const harmonicWave = Math.sin(params.baseFreq * params.harmonic * 0.01 * time - distance * 0.015) * params.amplitude * 0.7;
            
            // Light interaction (higher frequency modulation)
            const lightModulation = Math.sin(params.baseFreq * 50 * params.lightInteraction * 0.001 * time - distance * 0.1) * 0.3;
            
            // Combined interference
            return (primaryWave + harmonicWave) * (1 + lightModulation * params.lightInteraction);
        }
        
        function drawInterferencePattern() {
            try {
                const canvas = interferenceCanvas;
                const ctx = iCtx;
                const width = canvas.width;
                const height = canvas.height;
                
                if (!ctx || width <= 0 || height <= 0) return;
                
                // Clear with dark background
                ctx.fillStyle = 'rgba(5, 5, 15, 0.3)';
                ctx.fillRect(0, 0, width, height);
                
                const centerX = width / 2;
                const centerY = height / 2;
                
                // Draw circular interference patterns (more efficient than pixel-by-pixel)
                for (let ring = 20; ring < Math.min(width, height) / 2; ring += 15) {
                    const interference = calculateInterference(ring, 0, 0, 0, time);
                    const normalized = (interference + 2) / 4;
                    const intensity = Math.abs(normalized) * params.coherence;
                    
                    const r = Math.sin(time * 0.01) * 100 * intensity + 100;
                    const g = Math.cos(time * 0.01) * 120 * intensity + 150;
                    const b = Math.sin(time * 0.02) * 150 * intensity + 200;
                    const alpha = 0.3 + intensity * 0.5;
                    
                    ctx.strokeStyle = `rgba(${Math.max(0, Math.min(255, r))}, ${Math.max(0, Math.min(255, g))}, ${Math.max(0, Math.min(255, b))}, ${alpha})`;
                    ctx.lineWidth = 2 + intensity * 3;
                    ctx.beginPath();
                    ctx.arc(centerX, centerY, ring, 0, Math.PI * 2);
                    ctx.stroke();
                }
                
                // Draw node points where standing waves form
                ctx.strokeStyle = 'rgba(255, 255, 255, 0.8)';
                ctx.lineWidth = 2;
                
                for (let i = 0; i < params.nodeCount; i++) {
                    const angle = (i / params.nodeCount) * Math.PI * 2;
                    const radius = 80 + Math.sin(time * 0.02 + i) * 30;
                    const x = centerX + Math.cos(angle) * radius;
                    const y = centerY + Math.sin(angle) * radius;
                    
                    ctx.beginPath();
                    ctx.arc(x, y, 3, 0, Math.PI * 2);
                    ctx.stroke();
                }
            } catch (error) {
                console.log('Interference pattern error:', error);
            }
        }
        
        function drawStandingWaves() {
            try {
                const canvas = standingWaveCanvas;
                const ctx = sCtx;
                const width = canvas.width;
                const height = canvas.height;
                
                if (!ctx || width <= 0 || height <= 0) return;
                
                // Clear background
                ctx.fillStyle = 'rgba(5, 5, 15, 0.4)';
                ctx.fillRect(0, 0, width, height);
                
                const centerY = height / 2;
                
                // Draw multiple standing wave patterns
                for (let layer = 0; layer < 5; layer++) {
                    ctx.strokeStyle = `rgba(${100 + layer * 30}, ${150 + layer * 20}, ${200 + layer * 10}, ${0.8 - layer * 0.1})`;
                    ctx.lineWidth = 3 - layer * 0.4;
                    ctx.beginPath();
                    
                    for (let x = 0; x < width; x += 2) {
                        // Standing wave equation: A * sin(kx) * cos(ωt)
                        const k = (params.baseFreq / 100) * (1 + layer * 0.2); // Wave number
                        const omega = params.baseFreq * 0.02; // Angular frequency
                        
                        const standingWave = params.amplitude * Math.sin(k * x * 0.02) * Math.cos(omega * time + layer * Math.PI / 3);
                        
                        // Add harmonic interference
                        const harmonicContribution = params.amplitude * 0.5 * Math.sin(k * params.harmonic * x * 0.02) * Math.cos(omega * params.harmonic * time + layer * Math.PI / 2);
                        
                        const totalAmplitude = standingWave + harmonicContribution * params.lightInteraction;
                        const y = centerY + totalAmplitude * 50 * params.coherence;
                        
                        if (x === 0) {
                            ctx.moveTo(x, y);
                        } else {
                            ctx.lineTo(x, y);
                        }
                    }
                    ctx.stroke();
                }
                
                // Draw nodes (points of zero amplitude)
                ctx.fillStyle = 'rgba(255, 255, 255, 0.9)';
                const nodeSpacing = width / (params.nodeCount + 1);
                
                for (let i = 1; i <= params.nodeCount; i++) {
                    const x = i * nodeSpacing;
                    ctx.beginPath();
                    ctx.arc(x, centerY, 4, 0, Math.PI * 2);
                    ctx.fill();
                    
                    // Draw vertical lines at nodes
                    ctx.strokeStyle = 'rgba(255, 255, 255, 0.3)';
                    ctx.lineWidth = 1;
                    ctx.beginPath();
                    ctx.moveTo(x, 0);
                    ctx.lineTo(x, height);
                    ctx.stroke();
                }
                
                // Draw amplitude envelope
                ctx.strokeStyle = 'rgba(255, 107, 107, 0.6)';
                ctx.lineWidth = 2;
                ctx.setLineDash([5, 5]);
                ctx.beginPath();
                
                for (let x = 0; x < width; x += 5) {
                    const envelope = params.amplitude * Math.abs(Math.sin((params.baseFreq / 100) * x * 0.02)) * 50 * params.coherence;
                    const y = centerY - envelope;
                    
                    if (x === 0) {
                        ctx.moveTo(x, y);
                    } else {
                        ctx.lineTo(x, y);
                    }
                }
                ctx.stroke();
                
                ctx.beginPath();
                for (let x = 0; x < width; x += 5) {
                    const envelope = params.amplitude * Math.abs(Math.sin((params.baseFreq / 100) * x * 0.02)) * 50 * params.coherence;
                    const y = centerY + envelope;
                    
                    if (x === 0) {
                        ctx.moveTo(x, y);
                    } else {
                        ctx.lineTo(x, y);
                    }
                }
                ctx.stroke();
                ctx.setLineDash([]);
            } catch (error) {
                console.log('Standing wave error:', error);
            }
        }
        
        function animate() {
            try {
                time += 1;
                
                // Update parameters
                params.baseFreq = parseFloat(baseFreqSlider.value);
                params.harmonic = parseFloat(harmonicSlider.value);
                params.amplitude = parseFloat(amplitudeSlider.value);
                params.lightInteraction = parseFloat(lightFreqSlider.value);
                params.nodeCount = parseInt(nodeCountSlider.value);
                params.coherence = parseFloat(coherenceSlider.value);
                
                drawInterferencePattern();
                drawStandingWaves();
                updateDisplays();
                
                animationId = requestAnimationFrame(animate);
            } catch (error) {
                console.log('Animation error:', error);
                // Restart animation after a delay if there's an error
                setTimeout(() => {
                    if (!animationId) {
                        animate();
                    }
                }, 100);
            }
        }
        
        // Event listeners
        [baseFreqSlider, harmonicSlider, amplitudeSlider, lightFreqSlider, nodeCountSlider, coherenceSlider].forEach(slider => {
            slider.addEventListener('input', updateDisplays);
        });
        
        // Initialize
        try {
            // Set initial canvas sizes
            interferenceCanvas.width = 600;
            interferenceCanvas.height = 300;
            standingWaveCanvas.width = 600;
            standingWaveCanvas.height = 300;
            
            updateDisplays();
            animate();
        } catch (error) {
            console.log('Initialization error:', error);
        }
        
        // Resize handler
        window.addEventListener('resize', () => {
            try {
                const container = document.querySelector('.visualization-area');
                if (container) {
                    const rect = container.getBoundingClientRect();
                    
                    if (rect.width > 0 && rect.height > 0) {
                        interferenceCanvas.width = Math.max(400, rect.width - 40);
                        interferenceCanvas.height = Math.max(200, (rect.height - 60) / 2);
                        
                        standingWaveCanvas.width = Math.max(400, rect.width - 40);
                        standingWaveCanvas.height = Math.max(200, (rect.height - 60) / 2);
                    }
                }
            } catch (error) {
                console.log('Resize error:', error);
            }
        });
    </script>
</body>
</html>